{"ast":null,"code":"var _jsxFileName = \"/Users/ali/Downloads/blood-bank-main/src/routes/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Menu from \"../components/Menu\";\nimport { useHistory } from \"react-router-dom\";\nimport { getDatabase, child, onValue, ref, set, get } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [item, setItem] = useState(\"Pizza\");\n  const [error, setError] = useState(\"\");\n  const [data, setData] = useState([]);\n  const [favorite, setFavorite] = useState([]);\n  const history = useHistory();\n  console.log(data, item);\n  React.useEffect(() => {\n    console.log(\"Shsj\");\n    fetch(`https://api.spoonacular.com/food/products/search?query=${item}&apiKey=1c7177ef6f8e45619a139d760cc50f3c`).then(response => response.json()).then(data => {\n      if (data.status == \"failure\") {\n        setError(data.message);\n      } else {\n        setError(\"\");\n        setData(data.products);\n      }\n    }).catch(error => {\n      console.log(\"sjhsjhs\");\n      console.error('Error:', error);\n    });\n  }, [item]);\n\n  const AddToFavorite = (itemId, user) => {\n    console.log(itemId, user);\n    if (!(user === null || user === void 0 ? void 0 : user.id)) history.push(\"/login\");\n    const dbRef = ref(getDatabase());\n    get(child(dbRef, `favorite`)).then(snapshot => {\n      if (snapshot.exists()) {\n        var _Object$values;\n\n        const snaps = snapshot.val();\n        console.log(snaps);\n        (_Object$values = Object.values(snaps)) === null || _Object$values === void 0 ? void 0 : _Object$values.forEach(val => {\n          console.log(val);\n        });\n      } else {\n        console.log(\"suhjs\");\n      }\n    }).catch(error => {\n      console.error(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"process\",\n      className: \"menu-care\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row session-title\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            onChange: e => {\n              setItem(e.target.value);\n            },\n            \"aria-label\": \"Default select example\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Pizza\",\n              children: \"Pizza\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Burger\",\n              children: \"Burger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Biryani\",\n              children: \"Biryani\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [error ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 26\n          }, this) : \"\", data === null || data === void 0 ? void 0 : data.map((obj, idx) => {\n            return /*#__PURE__*/_jsxDEV(Menu, {\n              title: obj.title,\n              id: obj.id,\n              image: obj.image,\n              AddToFavorite: AddToFavorite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(Home, \"Eu9gp2sFUlWCp05cr0KOAu9piEU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/ali/Downloads/blood-bank-main/src/routes/Home.jsx"],"names":["React","useState","Menu","useHistory","getDatabase","child","onValue","ref","set","get","Home","item","setItem","error","setError","data","setData","favorite","setFavorite","history","console","log","useEffect","fetch","then","response","json","status","message","products","catch","AddToFavorite","itemId","user","id","push","dbRef","snapshot","exists","snaps","val","Object","values","forEach","e","target","value","map","obj","idx","title","image"],"mappings":"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","sourcesContent":["import React,{ useState } from \"react\";\nimport Menu from \"../components/Menu\";\nimport {useHistory} from \"react-router-dom\"\nimport { getDatabase,child,onValue, ref, set,get} from \"firebase/database\";\n\nconst Home = () =>{\n\n    const [item, setItem] = useState(\"Pizza\")\n    const [error, setError] = useState(\"\")\n    const [data, setData] = useState([])\n    const [favorite, setFavorite] = useState([])\n    const history = useHistory()\n\nconsole.log(data,item)\n    React.useEffect(()=>{\n        console.log(\"Shsj\")\n        fetch(`https://api.spoonacular.com/food/products/search?query=${item}&apiKey=1c7177ef6f8e45619a139d760cc50f3c`) \n        .then(response => response.json())\n        .then(data => {\n            if(data.status == \"failure\"){\n                setError(data.message)\n            }else{\n                setError(\"\")\n            setData(data.products)\n            }\n        }\n        )\n        .catch((error) => {\n            console.log(\"sjhsjhs\")\n            console.error('Error:', error);\n          });\n    \n\n    },[item])\n\n    const AddToFavorite = (itemId,user) => {\n        console.log(itemId,user)\n\n        if(!user?.id)  history.push(\"/login\")\n        const dbRef = ref(getDatabase());\n            get(child(dbRef, `favorite`)).then((snapshot) => {\n                if (snapshot.exists()) {\n                    const snaps = snapshot.val();\n                    console.log(snaps)\n                    Object.values(snaps)?.forEach((val)=>{\n                        console.log(val)\n                    })\n                } else {\n                   console.log(\"suhjs\")\n                }\n            }).catch((error) => {\n                console.error(error);\n            })\n\n\n\n\n\n\n    }\n    return <>\n\n   <section id=\"process\" className=\"menu-care\">\n         <div className=\"container\">\n           <div className=\"row session-title\">\n\n            <select class=\"form-select\" onChange = {(e)=> {setItem(e.target.value)}} aria-label=\"Default select example\">\n                <option value=\"Pizza\">Pizza</option>\n                <option value=\"Burger\">Burger</option>\n                <option value=\"Biryani\">Biryani</option>\n            </select>\n    \n           </div>\n            <div className=\"row\">\n                {error ? <p className=\"text-danger\">{error}</p> : \"\"}\n                 {data?.map((obj,idx)=>{\n                    return (<Menu title={obj.title} id = {obj.id} image={obj.image} AddToFavorite={AddToFavorite}/>)\n                 })}\n                \n            \n            </div>\n            \n             \n         </div>\n     </section>\n    </>\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}