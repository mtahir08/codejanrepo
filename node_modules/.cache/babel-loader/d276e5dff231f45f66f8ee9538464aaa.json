{"ast":null,"code":"var _jsxFileName = \"/Users/ali/Downloads/blood-bank-main/src/routes/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Menu from \"../components/Menu\";\nimport { useHistory } from \"react-router-dom\";\nimport { getDatabase, child, ref, set, get } from \"firebase/database\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [item, setItem] = useState(\"Pizza\");\n  const [data, setData] = useState([]);\n  const [favorite, setFavorite] = useState([]);\n  const history = useHistory();\n  console.log(data, item);\n  React.useEffect(() => {\n    fetch(`https://api.spoonacular.com/food/products/search?query=${item}&apiKey=fb26efed16c242e6b56aea0559fc353f`).then(response => response.json()).then(data => {\n      setData(data.products);\n    });\n  }, [item]);\n\n  const AddToFavorite = (itemId, user) => {\n    console.log(itemId, user);\n    if (!(user === null || user === void 0 ? void 0 : user.id)) history.push(\"/login\"); // const db = getDatabase();\n    // const starCountRef = ref(db, 'favorite/');\n    // onValue(starCountRef, (snapshot) => {\n    //   const data = snapshot.val();\n    //   updateStarCount(postElement, data);\n    // });\n    // set(ref(db, 'favorite/'+ user.id ), {\n    //   user: user.id,\n    //   itemId\n    // });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"process\",\n      className: \"menu-care\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row session-title\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"form-select\",\n            onChange: e => {\n              setItem(e.target.value);\n            },\n            \"aria-label\": \"Default select example\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Pizza\",\n              children: \"Pizza\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Burger\",\n              children: \"Burger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Biryani\",\n              children: \"Biryani\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: data === null || data === void 0 ? void 0 : data.map((obj, idx) => {\n            return /*#__PURE__*/_jsxDEV(Menu, {\n              title: obj.title,\n              id: obj.id,\n              image: obj.image,\n              AddToFavorite: AddToFavorite\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n};\n\n_s(Home, \"Lnu0COXIA7Zmh+mPTq8EdJkAD+g=\", false, function () {\n  return [useHistory];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["/Users/ali/Downloads/blood-bank-main/src/routes/Home.jsx"],"names":["React","useState","Menu","useHistory","getDatabase","child","ref","set","get","Home","item","setItem","data","setData","favorite","setFavorite","history","console","log","useEffect","fetch","then","response","json","products","AddToFavorite","itemId","user","id","push","e","target","value","map","obj","idx","title","image"],"mappings":"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","sourcesContent":["import React,{ useState } from \"react\";\nimport Menu from \"../components/Menu\";\nimport {useHistory} from \"react-router-dom\"\nimport { getDatabase,child, ref, set,get} from \"firebase/database\";\n\nconst Home = () =>{\n\n    const [item, setItem] = useState(\"Pizza\")\n    const [data, setData] = useState([])\n    const [favorite, setFavorite] = useState([])\n    const history = useHistory()\n\nconsole.log(data,item)\n    React.useEffect(()=>{\n        fetch(`https://api.spoonacular.com/food/products/search?query=${item}&apiKey=fb26efed16c242e6b56aea0559fc353f`) \n        .then(response => response.json())\n        .then(data => {\n            setData(data.products)\n        }\n        );\n\n    },[item])\n\n    const AddToFavorite = (itemId,user) => {\n        console.log(itemId,user)\n\n        if(!user?.id)  history.push(\"/login\")\n        // const db = getDatabase();\n// const starCountRef = ref(db, 'favorite/');\n// onValue(starCountRef, (snapshot) => {\n//   const data = snapshot.val();\n//   updateStarCount(postElement, data);\n// });\n\n    // set(ref(db, 'favorite/'+ user.id ), {\n    //   user: user.id,\n    //   itemId\n    // });\n\n\n\n\n    }\n    return <>\n\n   <section id=\"process\" className=\"menu-care\">\n         <div className=\"container\">\n           <div className=\"row session-title\">\n\n            <select class=\"form-select\" onChange = {(e)=> {setItem(e.target.value)}} aria-label=\"Default select example\">\n                <option value=\"Pizza\">Pizza</option>\n                <option value=\"Burger\">Burger</option>\n                <option value=\"Biryani\">Biryani</option>\n            </select>\n    \n           </div>\n            <div className=\"row\">\n\n                 {data?.map((obj,idx)=>{\n                    return (<Menu title={obj.title} id = {obj.id} image={obj.image} AddToFavorite={AddToFavorite}/>)\n                 })}\n                \n            \n            </div>\n            \n             \n         </div>\n     </section>\n    </>\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}